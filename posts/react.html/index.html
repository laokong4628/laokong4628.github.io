<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>react - Lao Kong&#39;s notepad</title><meta name="keywords" content="[Laokong notes notepad]">
<meta name="Description" content="react"><meta property="og:title" content="react" />
<meta property="og:description" content="react" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://laokong4628.github.io/posts/react.html/" />
<meta property="og:image" content="https://laokong4628.github.io/logo.png"/>
<meta property="article:published_time" content="2021-01-29T11:16:31+08:00" />
<meta property="article:modified_time" content="2021-01-29T11:16:31+08:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://laokong4628.github.io/logo.png"/>

<meta name="twitter:title" content="react"/>
<meta name="twitter:description" content="react"/>
<meta name="application-name" content="Lao Kong&#39;s notepad">
<meta name="apple-mobile-web-app-title" content="Lao Kong&#39;s notepad"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://laokong4628.github.io/posts/react.html/" /><link rel="prev" href="https://laokong4628.github.io/posts/rsync.html/" /><link rel="next" href="https://laokong4628.github.io/posts/python.html/" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "react",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/laokong4628.github.io\/posts\/react.html\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/laokong4628.github.io\/images\/Apple-Devices-Preview.png",
                            "width":  3200 ,
                            "height":  2048 
                        }],"genre": "posts","keywords": "react","wordcount":  2144 ,
        "url": "https:\/\/laokong4628.github.io\/posts\/react.html\/","datePublished": "2021-01-29T11:16:31+08:00","dateModified": "2021-01-29T11:16:31+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/laokong4628.github.io\/images\/avatar.png",
                    "width":  528 ,
                    "height":  560 
                }},"author": {
                "@type": "Person",
                "name": "LaoKong"
            },"description": "react"
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('dark' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'dark' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <a href="https://github.com/laokong4628" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
        <div class="header-title">
            <a href="/" title="Lao Kong&#39;s notepad"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"><i class='fas fa-fw fa-archive'></i> Archives </a><a class="menu-item" href="/tags/"><i class='fas fa-fw fa-tag'></i> Tags </a><a class="menu-item" href="/categories/"><i class='fas fa-fw fa-th'></i> Categories </a><a class="menu-item" href="/about/"><i class='fas fa-fw fa-at'></i> About </a><a class="menu-item" href="/friends/"><i class='fas fa-fw fa-fan fa-spin'></i> Friends </a><a class="menu-item" href="/search/" title="search"><i class='fas fa-fw fa-search'></i> Search </a><a class="menu-item" href="/weather/" title="weather"><i class='fas fa-cloud-meatball'></i> Weather </a><a class="menu-item" href="https://github.com/laokong4628/" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i>  </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item language" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                        <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/posts/react.html/" selected>English</option><option value="/zh-cn/posts/react.html/">简体中文</option></select>
                    </a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <a href="https://github.com/laokong4628" class="github-corner" target="_blank" title="Follow me on GitHub" aria-label="Follow me on GitHub"><svg width="3.5rem" height="3.5rem" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>
            <div class="header-title">
                <a href="/" title="Lao Kong&#39;s notepad"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw'></i></span><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title=""><i class='fas fa-fw fa-archive'></i>Archives</a><a class="menu-item" href="/tags/" title=""><i class='fas fa-fw fa-tag'></i>Tags</a><a class="menu-item" href="/categories/" title=""><i class='fas fa-fw fa-th'></i>Categories</a><a class="menu-item" href="/about/" title=""><i class='fas fa-fw fa-at'></i>About</a><a class="menu-item" href="/friends/" title=""><i class='fas fa-fw fa-fan fa-spin'></i>Friends</a><a class="menu-item" href="/search/" title="search"><i class='fas fa-fw fa-search'></i>Search</a><a class="menu-item" href="/weather/" title="weather"><i class='fas fa-cloud-meatball'></i>Weather</a><a class="menu-item" href="https://github.com/laokong4628/" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">English<i class="fas fa-chevron-right fa-fw"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/posts/react.html/" selected>English</option><option value="/zh-cn/posts/react.html/">简体中文</option></select>
                </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container">
                    <div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single" id="articleAll"><h1 class="single-title animated flipInX">react</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://laokong4628.github.io" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>LaoKong</a></span>&nbsp;<span class="post-category">included in <a href="/categories/react/"><i class="far fa-folder fa-fw"></i>react</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-01-29">2021-01-29</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;2144 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;11 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#getting-started">Getting started</a></li>
    <li><a href="#1-react开发环境准备">1. React开发环境准备</a></li>
    <li><a href="#2-react工程目录文件结构介绍">2. React工程目录文件结构介绍</a></li>
    <li><a href="#3-react中的组件">3. React中的组件</a></li>
    <li><a href="#4-react中最基础的jsx语法">4. React中最基础的JSX语法</a></li>
    <li><a href="#5-react编写todolist功能">5. React编写TodoList功能</a></li>
    <li><a href="#5-react中的响应式设计思想和事件绑定">5. React中的响应式设计思想和事件绑定</a></li>
    <li><a href="#6-react实现todolist列表新增删除功能">6. React实现TodoList列表新增删除功能</a></li>
    <li><a href="#7-react组件与组件之间的传值组件拆分">7. React组件与组件之间的传值，组件拆分</a></li>
    <li><a href="#8-react的特点">8. React的特点</a></li>
    <li><a href="#10-react-developer-tools的安装及使用">10. React Developer Tools的安装及使用</a></li>
    <li><a href="#9-proptypes与defaultprops的应用httpsreactjsorgdocstypechecking-with-proptypeshtml">9. <a href="https://reactjs.org/docs/typechecking-with-proptypes.html">PropTypes与DefaultProps的应用</a></a></li>
    <li><a href="#11-react中的虚拟dom">11. React中的虚拟DOM</a></li>
    <li><a href="#12-react中ref的使用">12. React中ref的使用</a></li>
    <li><a href="#13-react的生命周期函数">13. React的生命周期函数</a></li>
    <li><a href="#14-react使用charles实现本地数据mock">14. React使用Charles实现本地数据mock</a></li>
    <li><a href="#15-react中实现css过渡动画">15. React中实现CSS过渡动画</a></li>
    <li><a href="#16-使用react-transition-grouphttpsgithubcomreactjsreact-transition-group实现动画">16. 使用<a href="https://github.com/reactjs/react-transition-group">react transition group</a>实现动画</a></li>
    <li><a href="#17-react中redux概念简述">17. React中Redux概念简述</a></li>
    <li><a href="#17-使用antd实现todolist页面布局httpsantdesign">17. <a href="https://ant.design/">使用Antd实现TodoList页面布局</a></a></li>
    <li><a href="#18-ui组件和容器组件">18. UI组件和容器组件</a></li>
    <li><a href="#19-无状态组件只有一个render函数替换ui组件中的类todolistui为函数">19. 无状态组件，只有一个render函数，替换UI组件中的类TodolistUI为函数。</a></li>
    <li><a href="#20-redux中发送异步请求获取数据">20. Redux中发送异步请求获取数据</a></li>
    <li><a href="#21-使用redux-thunk中间件实现ajax数据请求-httpsgithubcomreduxjsredux-thunk">21. <a href="https://github.com/reduxjs/redux-thunk">使用Redux-thunk中间件实现ajax数据请求 </a></a></li>
    <li><a href="#20-redux的中间件指的是什么">20. Redux的中间件指的是什么？</a></li>
    <li><a href="#21-redux-saga中间件使用httpsgithubcomredux-sagaredux-saga">21. <a href="https://github.com/redux-saga/redux-saga">Redux-saga中间件使用</a></a></li>
    <li><a href="#22-styled-components模块安装httpswwwstyled-componentscom">22. <a href="https://www.styled-components.com/">Styled-Components模块安装</a></a></li>
    <li><a href="#23-resetcss使用httpsstyled-componentscom">23. <a href="https://styled-components.com/">Reset.css使用</a></a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="getting-started">Getting started</h2>
<!-- raw HTML omitted -->
<h2 id="1-react开发环境准备">1. React开发环境准备</h2>
<blockquote>
<p>1.安装node.js,查看node -v，npm -V验证安装。<br>
2.方案一(<code>推荐</code>)：<br>
3.npx create-react-app my-app<br>
4.cd my-app<br>
5.npm start<br>
6.方案二：<br>
7.npm install -g create-react-app  <br>
8.cd dir(你项目的目录)<br>
9.create-react-app my-app  <br>
10.cd my-app<br>
11.yarn start<br>
安装完成后，执行参考以下指令:</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">Inside that directory, you can run several commands:
  yarn start
    Starts the development server.
  yarn build
    Bundles the app into static files for production.
  yarn test
    Starts the test runner.
  yarn eject
    Removes this tool and copies build dependencies, configuration files
    and scripts into the app directory. If you do this, you can’t go back!

We suggest that you begin by typing:
  cd jianshu
  yarn start

Happy hacking!   

</code></pre></div><h2 id="2-react工程目录文件结构介绍">2. React工程目录文件结构介绍</h2>
<blockquote>
<p>1.cd my-app。<br>
2.<code>npm run start</code>  。<br>
3.文件介绍：<br>
4.readme.md 项目介绍。<br>
5.package.json node包文件，<code>脚手架</code>自动生成文件。<br>
6.node_modules 第三方模块包。<br>
7.mainfest.json app的<code>快捷方式</code>。<br>
8.src 项目<code>所有源代码文件夹</code>，index.js<code>整个程序运行的入口引用文件</code>，app.test.js<code>自动化测试文件</code>。</p>
</blockquote>
<h2 id="3-react中的组件">3. React中的组件</h2>
<blockquote>
<p>1.导入组件 <code>import React, { Component } form 'react';</code>。<br>
2.导出组件 <code>export default App;</code> App子类<code>继承</code>组件（Component）。<br>
3.挂载App组件到父节点下，<code>ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</code>。</p>
</blockquote>
<h2 id="4-react中最基础的jsx语法">4. React中最基础的JSX语法</h2>
<blockquote>
<p>1.标签变成组件，渲染。<br>
2.自定义组件（组件自定义名称<code>大写字母</code>开头），渲染。<br>
3.JSX<code>语法注释</code> ,<code>{/\*content\*/}</code>。<br>
4.引用<code>CSS文件</code>，<code>import './style.css',&lt;input className = &quot;input&quot; /&gt;</code>。<br>
5.<code>标签转义</code>，<code>dangerouslySetInnerHTML={{__html: item}}</code>。<br>
6.<code>&lt;lable htmlFor=&quot;insertArea&quot;&gt;输入内容&lt;/lable&gt;, **&lt;input id = &quot;insertArea&quot; /&gt;**</code>。</p>
</blockquote>
<h2 id="5-react编写todolist功能">5. React编写TodoList功能</h2>
<blockquote>
<p>1.<code>TodoList</code>替代<code>App组件</code>。<br>
2.创建<code>TodoList组件</code>。<br>
3.render return 返回<code>元素</code>必须包含在<code>一个标签</code>中。通过<code>Fragment组件</code>，<code>Fragment占位符</code>隐藏标签，内容放在<!-- raw HTML omitted --><!-- raw HTML omitted -->之间。</p>
</blockquote>
<h2 id="5-react中的响应式设计思想和事件绑定">5. React中的响应式设计思想和事件绑定</h2>
<blockquote>
<p>1.首先<code>定义数据函数</code>:<code>（constructor(props){super(props);this.state={inputvalue:'可以设置预定值',list:[]}}）</code>。<br>
2.<code>数据</code>与<code>对应的组件标签``响应</code>，<code>&lt;input value={this.state.inputvalue}/&gt;</code>。<br>
3.<code>事件绑定</code>。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.state.inputvalue}</span> <span style="color:#a6e22e">onChange</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleInputChange.`bind`(this)}/</span>&gt;,
`控制台console`显示事件`变化`：handleInputChange(e){
    this.`setState`({inputvalue:e.target.value}) 
    console.log(e.`target`.value)
    }
</code></pre></div><h2 id="6-react实现todolist列表新增删除功能">6. React实现TodoList列表新增删除功能</h2>
<blockquote>
<p>1.首先<code>定义提交按钮</code>:<code>&lt;button onClick={this.handleBtnClick.bind(this)}&gt;提交&lt;/button&gt;</code>。<br>
2.定义<code>handleBtnClick</code>函数，<code>handleBtnClick(){}</code>。<br>
3.定义列表和对应的组件标签，<code>list:[] 和 &lt;ul&gt;</code>。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span>&gt;{
    this.state.list.map(
    (item, index) =&gt; {return &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">{index}`(忽略警告)`</span>&gt;{item}&lt;/<span style="color:#f92672">li</span>&gt;}
    )
    }
    &lt;/<span style="color:#f92672">ul</span>&gt;
</code></pre></div><blockquote>
<p>4.<code>事件绑定</code>，<strong>点击提交，数据追加到list数组列表</strong>。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">handleBtnClick(){
    this.setState(){
        list:[...this.state.list, this.state.inputvalue], inputvalue:&#39;&#39;(`清空输入框`)
        }
        }
</code></pre></div><blockquote>
<p>5.<code>事件绑定</code>，点击数据，数据从list数组列表中删除。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">ul</span>&gt;{this.state.list.map(
    (item, index) =&gt; {return &lt;<span style="color:#f92672">li</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">{index}</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleItemDelete.bind(this,</span> <span style="color:#a6e22e">index</span><span style="color:#960050;background-color:#1e0010">)}</span>&gt;{item}&lt;/<span style="color:#f92672">li</span>&gt;})}&lt;/<span style="color:#f92672">ul</span>&gt;，
    handleItemDelete(index){
    const list = [...`展开运算符`this.state.list]; 
    list.splice(index, 1); 
    this.setState({
    list:list
    })
    }
</code></pre></div><h2 id="7-react组件与组件之间的传值组件拆分">7. React组件与组件之间的传值，组件拆分</h2>
<blockquote>
<p>1.创建拆分组件，组件引用拆分组件，return (&lt;拆分组件 /&gt;),组件为树形结构。<br>
2.组件间参数传值。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">`父组件`：return (&lt;<span style="color:#f92672">拆分组件</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">{value}/</span>&gt;), 
`子组件`：return (&lt;<span style="color:#f92672">div</span>&gt;{this.props.content}&lt;/<span style="color:#f92672">div</span>&gt;)
</code></pre></div><blockquote>
<p>3.<code>子组件事件绑定</code>，点击标签，对应相应事件处理。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">return (
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleClick}</span>&gt;{this.props.content}&lt;/<span style="color:#f92672">div</span>&gt;
    ),
    handleClick(){
        alert(1);
        }
</code></pre></div><blockquote>
<p>4.<code>子组件事件绑定</code>，点击标签，对应相应事件处理，删除item。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">return (
    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleClick}</span>&gt;{this.props.content}&lt;/<span style="color:#f92672">div</span>&gt;
    ),
    `父组件`：return (&lt;<span style="color:#f92672">拆分组件</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">{value}</span> <span style="color:#a6e22e">index</span><span style="color:#f92672">=</span><span style="color:#e6db74">{index}</span> <span style="color:#a6e22e">deleteItem</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleItemDelete.bind(this)}/</span>&gt;)，
    return (&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleClick}</span>&gt;{this.props.content}&lt;/<span style="color:#f92672">div</span>&gt;),handleClick(){
        alert(this.props.index);
        },
    constructor(props){
        super(props);
        this.handleClick=this.handleClick.bind(this)
        },
    handleClick(){
        this.props.deleteItem(this.props.index)
        }
</code></pre></div><h2 id="8-react的特点">8. React的特点</h2>
<blockquote>
<p>1.声明式开发。<br>
2.可以和其他框架并存。<br>
3.组件化。<br>
4.单向数据流。<br>
5.视图层框架。<br>
6.函数式开发。</p>
</blockquote>
<h2 id="10-react-developer-tools的安装及使用">10. React Developer Tools的安装及使用</h2>
<blockquote>
<p>1.chrome Extensions： <code>React Developer Tools</code></p>
</blockquote>
<h2 id="9-proptypes与defaultprops的应用httpsreactjsorgdocstypechecking-with-proptypeshtml">9. <a href="https://reactjs.org/docs/typechecking-with-proptypes.html" target="_blank" rel="noopener noreffer">PropTypes与DefaultProps的应用</a></h2>
<blockquote>
<p>1.导入<code>PropTypes包</code>。<br>
2.组件.propTypes={test: PropTypes.string.isRequired<code>必须值</code>, var: PropTypes.string, method: PropTypes.func, index: PropTypes.number}，定义组件<code>值的属性（类型）</code>。<br>
3.DefaultProps默认值，.组件.DefaultProps={test: &lsquo;hello world&rsquo;}。</p>
</blockquote>
<h2 id="11-react中的虚拟dom">11. React中的虚拟DOM</h2>
<blockquote>
<p>1.定义state数据。<br>
2.JSX模板。<br>
3.数据 + 模板 结合生成真实的DOM， 来显示。<br>
4.state 发生变化。<br>
5.数据 + 模板 结合生成真实的DOM， 替换原始的DOM。</p>
<p><strong>缺陷</strong>
生成两次DOM片段，替换过程非常耗性能。</p>
<p><strong>优化</strong>。<br>
1.定义state数据。<br>
2.JSX模板。<br>
3.数据 + 模板 结合生成真实的DOM， 来显示。<br>
4.state 发生变化。<br>
5.数据 + 模板 结合生成真实的DOM， 并不直接替换原始的DOM。<br>
6.新的DOM（DocumentFragment）和原始的DOM作对比，找出差异。<br>
7.找出发生变化的组件元素。<br>
8.只用新的DOM中的组件元素替换老的DOM中的input元素。</p>
<p><strong>缺陷</strong>
性能提升并不明显</p>
<p><strong>优化</strong><br>
1.定义state数据。<br>
2.JSX模板。<br>
3.数据 + 模板 结合生成真实的DOM， 来显示。<br>
4.生成虚拟DOM(虚拟DOM就是一个JS对象，用来描述真正的DOM)（<code>创建对象有性能损耗</code>），用虚拟DOM的结构生成真实的DOM,来显示。<br>
5.state 发生变化。<br>
6.生成新的虚拟DOM。<br>
7.比较虚拟BOM与新的虚拟DOM的区别。<br>
8.直接操作DOM改变其中内容。</p>
</blockquote>
<h2 id="12-react中ref的使用">12. React中ref的使用</h2>
<blockquote>
<p>1.setState是<code>异步函数</code>，处理时最好将语句放在<code>回调函数</code>后面。<br>
2.ref 即<code>reference</code>，引用指向<code>当前标签</code>。<br>
3.&lt;input    ref={    (input)    =&gt;    {this.input  =  input}}/&gt;。<br>
4.函数调用时，直接var    value = this.input.value。</p>
</blockquote>
<h2 id="13-react的生命周期函数">13. React的生命周期函数</h2>
<blockquote>
<p>1.生命周期函数是指在某一时刻组件会自动调用执行的函数。<br>
2.<code>constructor</code>函数在组件创建的时候调用，<code>render</code>在数据发生变化的时候调用，都是生命周期函数。<code>componentWillMount</code>在组件即将被挂载到页面上的时刻被自动调用,<code>componentDidMount</code>在组件被挂载到页面之后被自动调用,<code>shouldComponentUpdate</code>在组件被更新之前自动执行，返回<code>布尔值</code>（bool），。<code>true执行</code>，<code>false不执行</code>。<code>componentWillUpdate</code>在<code>shouldComponentUpdate</code>之后执行，<code>shouldComponentUpdate</code>返回<code>true</code>才执行，组件被更新之前自动执行。<code>componentDidUpdate组</code>件更新完成后自动执行。<code>componentWillRecieveprops</code>存在子组件中，当一个组件从父组件接受参数，只要父组件的render函数被重新执行了，子组件的这个生命周期函数就会被执行，第一次存在于父组件中不会执行，已经存在父组件中才会执行。<code>componentWillUnmount</code>这个组件即将从页面中剔除时，才会执行。<br>
3.<strong>使用场景</strong><br>
4.<code>render</code>生命周期函数<code>必须存在</code>，其他生命周期函数<code>可有可无</code>。<br>
5.<code>shouldComponentUpdate</code>接受两个参数:<code>nextProps</code>,<code>nextState</code>。<br>
6.<code>componentDidMount</code>处理AJAX异步请求，<code>安装AJAX模块</code>，<strong>yarn add axios</strong>.<code>导入AJAX模块</code>，<code>import axios from 'axios'</code>,<code>调用axios，axios.get('/api/组件')</code>。</p>
</blockquote>
<h2 id="14-react使用charles实现本地数据mock">14. React使用Charles实现本地数据mock</h2>
<blockquote>
<p>安装Charlse中间件</p>
</blockquote>
<h2 id="15-react中实现css过渡动画">15. React中实现CSS过渡动画</h2>
<blockquote>
<p>toggle,
1.先定义constructor方法，设置state的初始化值，以及初始化点击事件，例子：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">constructor(props){
    super(props);
    this.state = {
        show: true
    }
    this.handleToggle = this.handleToggle.bind(this);
}

</code></pre></div><blockquote>
<p>2.再调用渲染方法render()，渲染定义的标签组件，例：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">&lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">classNames </span><span style="color:#f92672">=</span> <span style="color:#e6db74">{this.state.show</span> <span style="color:#960050;background-color:#1e0010">?</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">show</span><span style="color:#960050;background-color:#1e0010">&#39;</span> <span style="color:#a6e22e">:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">hide</span><span style="color:#960050;background-color:#1e0010">&#39;}</span>&gt;hello world!&lt;/<span style="color:#f92672">div</span>&gt;

</code></pre></div><blockquote>
<p>3.再调用点击事件函数handleToggle()，实现toggle，例：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">handleToggle(){
    this.state = ({
        show: this.state.show ? false : true
    })
}

</code></pre></div><blockquote>
<p>4.定义切换样式（动画）css文件，导入css文件</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">import &#39;./style.css&#39;;

style.css:
.show{
    opacity: 1;
    transition: all 1s ease-in;
}
.hide{
    opacity: 0;
    transition: all 1s ease-in;
}

动画效果：
@keyframes show-item {
    0% {
        opacity: 1;
        color: red;
    }
    50% {
        opacity: 1;
        color: green;
    }
    100% {
        opacity: 1;
        color: blue;
    }
}

@keyframes hide-item {
    0% {
        opacity: 1;
        color: red;
    }
    50% {
        opacity: 1;
        color: green;
    }
    100% {
        opacity: 1;
        color: blue;
    }
}

修改show类样式：
.show{
    opacity: 0;
    transition: all 1s ease-in;变为 transition: show-item 2s ease-in forwards;
}

修改hide类样式：
.hide{
    opacity: 0;
    transition: all 1s ease-in;变为 transition: hide-item 2s ease-in forwards;
}

</code></pre></div><h2 id="16-使用react-transition-grouphttpsgithubcomreactjsreact-transition-group实现动画">16. 使用<a href="https://github.com/reactjs/react-transition-group" target="_blank" rel="noopener noreffer">react transition group</a>实现动画</h2>
<blockquote>
<p><a href="https://reactcommunity.org/react-transition-group/" target="_blank" rel="noopener noreffer">安装和使用</a>：
安装react transition group，终端输入命令：<code>yarn add react-transition-group</code><br>
导入CSStransition模块到自定义组件（例子中APP.js），<code>import { CSSTransition } from 'react-transition-group';</code>
加入CSStransition标签组件，包裹需要该组件的内容.</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">&lt;<span style="color:#f92672">CSStransition</span> 
    <span style="color:#a6e22e">in</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.state.show}</span> 
    <span style="color:#a6e22e">timeout</span><span style="color:#f92672">=</span><span style="color:#e6db74">{1000}</span>&gt;
        &lt;<span style="color:#f92672">div</span>&gt;hello world&lt;/<span style="color:#f92672">div</span>&gt;
    &lt;/<span style="color:#f92672">CSStransition</span>&gt;

</code></pre></div><blockquote>
<p><code>注意</code>:修改动画效果的标签，其他内容不变。
修改style.css,加入组件<code>react-transition-group</code>规定的样式.</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">有如下样式：
进场/出厂第一帧, 进场/出厂第二帧, 进场/出厂第三帧 
fade-appear, fade-appear-active, fade-appear-done
fade-enter, fade-enter-active, fade-enter-done
fade-exit, fade-exit-active, fade-exit-done

有如下组件属性：
timeout
classNames
unmountOnExit
onEnter进场/出厂第一帧
    A &lt;<span style="color:#f92672">Transition</span>&gt; callback fired immediately after the &#39;enter&#39; or &#39;appear&#39; class is applied.
Note: when nodeRef prop is passed, node is not passed.
type: Function(node: HtmlElement, isAppearing: bool)

onEntering, 进场/出厂第二帧 
    A &lt;<span style="color:#f92672">Transition</span>&gt; callback fired immediately after the &#39;enter-active&#39; or &#39;appear-active&#39; class is applied.
Note: when nodeRef prop is passed, node is not passed.
type: Function(node: HtmlElement, isAppearing: bool)

onEntered, 进场/出厂第三帧
    A &lt;<span style="color:#f92672">Transition</span>&gt; callback fired immediately after the &#39;enter&#39; or &#39;appear&#39; classes are removed and the done class is added to the DOM node.
Note: when nodeRef prop is passed, node is not passed.
type: Function(node: HtmlElement, isAppearing: bool)

onExit，同上
    A &lt;<span style="color:#f92672">Transition</span>&gt; callback fired immediately after the &#39;exit&#39; class is applied.
Note: when nodeRef prop is passed, node is not passed
type: Function(node: HtmlElement)

onExiting
    A &lt;<span style="color:#f92672">Transition</span>&gt; callback fired immediately after the &#39;exit-active&#39; is applied.
Note: when nodeRef prop is passed, node is not passed
type: Function(node: HtmlElement)

onExited
    A &lt;<span style="color:#f92672">Transition</span>&gt; callback fired immediately after the &#39;exit&#39; classes are removed and the exit-done class is added to the DOM node.
Note: when nodeRef prop is passed, node is not passed
type: Function(node: HtmlElement)

.fade-enter{
    opacity: 0;
}
.fade-enter-active{
    opacity: 1;
    transition: opacity 1s ease-in;
}
.fade-enter-done{
    opacity: 1;
    <span style="color:#75715e">&lt;!-- color：red； --&gt;</span>
}

.fade-exit{
    opacity: 1;
}
.fade-exit-active{
    opacity: 0;
    transition: opacity 1s ease-in;
}
.fade-exit-done{
    opacity: 0;
}
再修改标签组件CSStransition，classname类名
&lt;<span style="color:#f92672">CSStransition</span> 
    <span style="color:#a6e22e">in</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.state.show}</span> 
    <span style="color:#a6e22e">timeout</span><span style="color:#f92672">=</span><span style="color:#e6db74">{1000}</span>
    <span style="color:#a6e22e">classNames</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;fade&#39;</span>
    <span style="color:#a6e22e">unmountOnExit</span><span style="color:#960050;background-color:#1e0010">`</span><span style="color:#a6e22e">移除标签</span><span style="color:#960050;background-color:#1e0010">`</span>
    <span style="color:#e6db74">`修改过度显示颜色`</span><span style="color:#a6e22e">相当于前面注释掉的样式颜色修改</span><span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#a6e22e">onEntered</span><span style="color:#f92672">=</span><span style="color:#e6db74">{(el)</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; {el.style.color=&#39;blue&#39;}}    
    <span style="color:#e6db74">`增加显示时，第一帧`</span>,appear对应相应的css类 appear={true}&gt;


.fade-enter .fade-appear{
    opacity: 0;
}
.fade-enter-active <span style="color:#e6db74">`.fade-appear-active`</span>{
    opacity: 1;
    transition: opacity 1s ease-in;
}
.fade-enter-done{
    opacity: 1;
    <span style="color:#75715e">&lt;!-- color：red； --&gt;</span>
}

.fade-exit{
    opacity: 1;
}
.fade-exit-active{
    opacity: 0;
    transition: opacity 1s ease-in;
}
.fade-exit-done{
    opacity: 0;
}


</code></pre></div><blockquote>
<p>重新启动项目，<code>npm run start</code>。</p>
</blockquote>
<h2 id="17-react中redux概念简述">17. React中Redux概念简述</h2>
<blockquote>
<p>Redux = Reducer + Flux
Redux就是React版的全局变量
Redux流程图：

<figure><a class="lightgallery" href="/images/Redux.png" title="Redux流程图" data-thumbnail="/images/Redux.png" data-sub-html="<h2> </h2><p>Redux流程图</p>">
        <img
            class="lazyload"
            src="/svg/loading.min.svg"
            data-src="/images/Redux.png"
            data-srcset="/images/Redux.png, /images/Redux.png 1.5x, /images/Redux.png 2x"
            data-sizes="auto"
            alt="/images/Redux.png" />
    </a><figcaption class="image-caption">Redux流程图</figcaption>
    </figure><br>
注：<code>Action Creaters</code>相当于请求动作，<code>Reducers</code>相当于处理接收到的数据,<code>Store</code>相当于接收请求数据，<code>React Components</code>相当于接收/发送处理完成的数据</p>
<p>创建redux中的<code>store</code>
首先安装Redux，yarn add Redux。
<code>index.js</code></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { createStore } from &#39;redux&#39;；
import reducer from &#39;./stroe/reducer&#39;
const store = createStore(
    reducer，
    window.__REDUX_DEVTOOLS_EXTENSION__ <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> window.__REDUX_DEVTOOLS_EXTENSION() `chrome redux 拓展支持`
    );
export store;

</code></pre></div><blockquote>
<p><code>reducer.js</code>, 相当于笔记本。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">const defaultState = {
    inputValue: &#39;&#39;,
    list: []
}
<span style="color:#75715e">&lt;!-- reducer 可以接收state， 但是决不能修改state。 --&gt;</span>
export default (state, action) =&gt; {
    if(action.type === &#39;change_input_value&#39;){
        const newState = JSON.parse(JSON.stringify(state));
        newState.inputValue = action.value;
        return newState;
    }
    if(action.type === &#39;add_todo_item&#39;){
        const newState = JSON.parse(JSON.stringify(state));
        newState.list.push(newState.inputValue);
        newState.inputValue = &#39;&#39;;
        return newState;
    }
    if(action.type === &#39;del_todo_item&#39;){
        const newState = JSON.parse(JSON.stringify(state));
        newState.list.splice(action.index, 1);
        return newState;
    }

    console.log(state, action);
    return state;
};

</code></pre></div><blockquote>
<p>其他组件导入store</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import store from &#39;./store&#39;;

console.log(store.getState());

</code></pre></div><h2 id="17-使用antd实现todolist页面布局httpsantdesign">17. <a href="https://ant.design/" target="_blank" rel="noopener noreffer">使用Antd实现TodoList页面布局</a></h2>
<blockquote>
<p><code>TodoList.js</code></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import React, { Component } from &#39;react&#39;;
class TodoList extends Component {
    render(){
        return &lt;<span style="color:#f92672">div</span>&gt;hello world&lt;/<span style="color:#f92672">div</span>&gt;
    }
}

export default TodoList;

</code></pre></div><blockquote>
<p>安装Antd模块，yarn add antd。
程式中使用Antd模块：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import React, { Component } from &#39;react&#39;;
`import &#39;antd/dist/antd.css&#39;;`
import store from &#39;./store&#39;;

class TodoList extends Component {
    constructor(props){
        super(props);
        this.state = store.getState();
        this.handleInputChange = this.handleInputChange.bind(this);
        this.handleStoreChange = this.handleStoreChange.bind(this);
        store.subscribe(this.handleStoreChange);
    }
    render(){
        return (
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{marginTop:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;,</span> <span style="color:#a6e22e">marginLeft:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span>&gt;
                &lt;<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.state.value}</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;todo info&#39;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{width:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">300px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span> <span style="color:#a6e22e">onChange</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleInputChange}</span>&gt;
                &lt;<span style="color:#f92672">Button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleBtnClick}</span>&gt;提交&lt;/<span style="color:#f92672">Button</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">List</span>
                <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{marginTop:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;,</span> <span style="color:#a6e22e">marginLeft:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span>
                <span style="color:#a6e22e">bordered</span>
                <span style="color:#a6e22e">dataSource</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.state.list}</span>
                <span style="color:#a6e22e">renderItem</span><span style="color:#f92672">=</span><span style="color:#e6db74">{Item</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; (&lt;<span style="color:#f92672">List.Item</span>&gt;{item}&lt;/<span style="color:#f92672">List.Item</span>&gt;)}
                onClick={this.handleItemDelete.bind(this, index)}/&gt;            
            &lt;/<span style="color:#f92672">div</span>&gt;
            )
    }
    handleInputChange(e){
        const action = {
            type: &#39;change_input_value&#39;,
            value: e.target.value
        }
        store.dispatch(action);
    }
    handleStoreChange(){
        console.log(&#39;store changed&#39;);
        this.setState(store.getState());

    }
    handleBtnClick(){
        const action = {
            type: &#39;add_todo_item&#39;
        }；
        store.dispatch(action);
    }
    handleItemDelete(){
        const action = {
            type: &#39;del_todo_item&#39;,
            index
        }
        store.dispatch(action);
    }
}

export default TodoList;

</code></pre></div><blockquote>
<p><code>问题</code>:
1.<code>Can't call setState on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application.</code>
<strong>把 store.subscribe(this.handleStoreChange); 放到componentDidMount() 里面。这个错误是因为这个方法this.handleStoreChange在还没有建立时候就被使用了</strong></p>
<p><strong><code>ActionTypes的拆分</code></strong>
1.<code>actionTypes.js</code></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">export const CHANGE_IPUT_VALUE = &#39;change_input_value&#39;;
export const ADD_TODO_ITEM = &#39;add_todo_item&#39;;
export const DEL_TODO_ITEM = &#39;del_todo_item&#39;;

</code></pre></div><blockquote>
<p>2.组件<code>TodoList.js</code>导入actionTypes：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { CHANGE_IPUT_VALUE, ADD_TODO_ITEM, DEL_TODO_ITEM } from &#39;./store/actionTypes&#39;;

</code></pre></div><blockquote>
<p>3.<code>TodoList.js</code>中CHANGE_IPUT_VALUE等值直接替换&rsquo;change_input_value'，type=CHANGE_IPUT_VALUE;
<strong><code>使用actionCreator.js</code>统一创建action</strong>
1.<code>actionCreator.js</code></p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { CHANGE_IPUT_VALUE, ADD_TODO_ITEM } from &#39;./stroe/actionTypes&#39;;

export const getInputChangeAction = (value) =&gt; ({
    type: CHANGE_IPUT_VALUE,
    value
});

export const getAddItemAction = () =&gt; ({
    type: ADD_TODO_ITEM,
});

export const getAddItemAction = (index) =&gt; ({
    type: DEL_TODO_ITEM,
});

</code></pre></div><blockquote>
<p>2.修改<code>TodoList.js</code>中，handleInputChange方法。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { getAddItemAction, getInputChangeAction } from &#39;./store/actionCreator&#39;;
    handleInputChange(e){
        const action = {
            type: &#39;change_input_value&#39;,
            value: e.target.value
        }
        store.dispatch(action);
    }
    变为
        handleInputChange(e){
        const action = getInputChangeAction(e.target.value); 
        store.dispatch(action);
    }

</code></pre></div><blockquote>
<p><code>store</code> 公共（public）储存空间。</p>
</blockquote>
<h2 id="18-ui组件和容器组件">18. UI组件和容器组件</h2>
<blockquote>
<p><code>ToollistUI.js</code>UI组件（傻瓜组件）</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import React, { Component } from &#39;react&#39;;
import { Input, Button, List } from &#39;antd&#39;;

class ToollistUI extends Component {
    render(){
        return (
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{marginTop:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;,</span> <span style="color:#a6e22e">marginLeft:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span>&gt;
                &lt;<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.props.inputValue}</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;todo info&#39;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{width:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">300px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span> <span style="color:#a6e22e">onChange</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.props.handleInputChange}</span>&gt;
                &lt;<span style="color:#f92672">Button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.props.handleBtnClick}</span>&gt;提交&lt;/<span style="color:#f92672">Button</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">List</span>
                <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{marginTop:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;,</span> <span style="color:#a6e22e">marginLeft:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span>
                <span style="color:#a6e22e">bordered</span>
                <span style="color:#a6e22e">dataSource</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.props.list}</span>
                <span style="color:#a6e22e">renderItem</span><span style="color:#f92672">=</span><span style="color:#e6db74">{Item</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; (&lt;<span style="color:#f92672">List.Item</span>&gt;{item}&lt;/<span style="color:#f92672">List.Item</span>&gt;)}
                onClick={ (index) =&gt; {this.props.handleItemDelete}(index) }/&gt;            
            &lt;/<span style="color:#f92672">div</span>&gt;
            )
    }

}

</code></pre></div><blockquote>
<p><code>TodoList.js</code> 容器组件(聪明组件)修改成如下内容</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import React, { Component } from &#39;react&#39;;
`import &#39;antd/dist/antd.css&#39;;`
import store from &#39;./store&#39;;
import { CHANGE_IPUT_VALUE, ADD_TODO_ITEM, DEL_TODO_ITEM } from &#39;./store/actionTypes&#39;;
import ToollistUI from &#39;./ToollistUI&#39;;

class TodoList extends Component {
    constructor(props){
        super(props);
        this.state = store.getState();
        this.handleInputChange = this.handleInputChange.bind(this);
        this.handleStoreChange = this.handleStoreChange.bind(this);
        this.handleBtnClick = this.handleBtnClick.bind(this);
        this.handleItemDelete = this.handleItemDelete.bind(this);
        store.subscribe(this.handleStoreChange);
    }
    render(){
        return (
            &lt;<span style="color:#f92672">ToollistUI</span> 
                <span style="color:#a6e22e">inputValue</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.state.inputValue}</span>
                <span style="color:#a6e22e">handleInputChange</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleInputChange}</span>
                <span style="color:#a6e22e">handleBtnClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleBtnClick}</span>
                <span style="color:#a6e22e">andleItemDelete</span><span style="color:#f92672">=</span><span style="color:#e6db74">{this.handleItemDelete}</span>
            /&gt;
            )
    }
    handleInputChange(e){
        const action = {
            type: &#39;change_input_value&#39;,
            value: e.target.value
        }
        store.dispatch(action);
    }
    handleStoreChange(){
        console.log(&#39;store changed&#39;);
        this.setState(store.getState());

    }
    handleBtnClick(){
        const action = {
            type: &#39;add_todo_item&#39;
        }；
        store.dispatch(action);
    }
    handleItemDelete(){
        const action = {
            type: &#39;del_todo_item&#39;,
            index
        }
        store.dispatch(action);
    }
}

export default TodoList;

</code></pre></div><h2 id="19-无状态组件只有一个render函数替换ui组件中的类todolistui为函数">19. 无状态组件，只有一个render函数，替换UI组件中的类TodolistUI为函数。</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import React, { Component } from &#39;react&#39;;
`import React from &#39;react&#39;;` 解决警告问题。
import { Input, Button, List } from &#39;antd&#39;;

const TodolistUI = (props) =&gt; {
        render(
            &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{marginTop:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;,</span> <span style="color:#a6e22e">marginLeft:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span>&gt;
                &lt;<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">{props.inputValue}</span> <span style="color:#a6e22e">placeholder</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;todo info&#39;</span> <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{width:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">300px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span> <span style="color:#a6e22e">onChange</span><span style="color:#f92672">=</span><span style="color:#e6db74">{props.handleInputChange}</span>&gt;
                &lt;<span style="color:#f92672">Button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;primary&#34;</span> <span style="color:#a6e22e">onClick</span><span style="color:#f92672">=</span><span style="color:#e6db74">{props.handleBtnClick}</span>&gt;提交&lt;/<span style="color:#f92672">Button</span>&gt;
                &lt;/<span style="color:#f92672">div</span>&gt;
                &lt;<span style="color:#f92672">List</span>
                <span style="color:#a6e22e">style</span><span style="color:#f92672">=</span><span style="color:#e6db74">{{marginTop:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;,</span> <span style="color:#a6e22e">marginLeft:</span> <span style="color:#960050;background-color:#1e0010">&#39;</span><span style="color:#a6e22e">10px</span><span style="color:#960050;background-color:#1e0010">&#39;}}</span>
                <span style="color:#a6e22e">bordered</span>
                <span style="color:#a6e22e">dataSource</span><span style="color:#f92672">=</span><span style="color:#e6db74">{props.list}</span>
                <span style="color:#a6e22e">renderItem</span><span style="color:#f92672">=</span><span style="color:#e6db74">{Item</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; (&lt;<span style="color:#f92672">List.Item</span>&gt;{item}&lt;/<span style="color:#f92672">List.Item</span>&gt;)}
                onClick={ (index) =&gt; {props.handleItemDelete}(index) }/&gt;            
            &lt;/<span style="color:#f92672">div</span>&gt;
        )
}


</code></pre></div><blockquote>
</blockquote>
<h2 id="20-redux中发送异步请求获取数据">20. Redux中发送异步请求获取数据</h2>
<blockquote>
<p>参照之前的axios模块和charlse应用以及Redux各个数据处理。</p>
</blockquote>
<h2 id="21-使用redux-thunk中间件实现ajax数据请求-httpsgithubcomreduxjsredux-thunk">21. <a href="https://github.com/reduxjs/redux-thunk" target="_blank" rel="noopener noreffer">使用Redux-thunk中间件实现ajax数据请求 </a></h2>
<blockquote>
<p>Redux-thunk中间件，统一数据处理。
安装Redux-thunk，指令：<code>npm install redux-thunk</code><br>
使用Redux-thunk模块，<code>index.js</code>导入Redux-thunk模块</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { createStore, applyMiddleware } from &#39;redux&#39;；
import reducer from &#39;./stroe/reducer&#39;
import thunk from &#39;redux-thunk&#39;;
const store = createStore(
    reducer，
    applyMiddleware([thunk, window.__REDUX_DEVTOOLS_EXTENSION__ <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> window.__REDUX_DEVTOOLS_EXTENSION()])
    );
export store;

</code></pre></div><blockquote>
<p>使用redux devtools的compose模块</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { createStore, applyMiddleware， `compose` } from &#39;redux&#39;；
import reducer from &#39;./stroe/reducer&#39;
import thunk from &#39;redux-thunk&#39;;

const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION__ <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> window.__REDUX_DEVTOOLS_EXTENSION();

const enhancer = composeEnhancers(
    applyMiddleware(thunk)
);

const store = createStore(reducer，enhancer);
export store;

</code></pre></div><h2 id="20-redux的中间件指的是什么">20. Redux的中间件指的是什么？</h2>
<blockquote>
</blockquote>
<h2 id="21-redux-saga中间件使用httpsgithubcomredux-sagaredux-saga">21. <a href="https://github.com/redux-saga/redux-saga" target="_blank" rel="noopener noreffer">Redux-saga中间件使用</a></h2>
<blockquote>
<p>在Redux-thunk中间件中，将AJAX异步请求放在actionCreator里面进行处理。
用Redux-saga替代Redux-thunk处理异步请求。
安装Redux-saga，<code>yarn add redux-saga</code>。
使用Redux-saga，导入Redux-saga包。<code>index.js</code>:</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { createStore, applyMiddleware， `compose` } from &#39;redux&#39;；
import reducer from &#39;./stroe/reducer&#39;
import createSagaMiddleware from &#39;redux-saga&#39;

// create the saga middleware
const sagaMiddleware = createSagaMiddleware()
const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION__ <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> window.__REDUX_DEVTOOLS_EXTENSION();

const enhancer = composeEnhancers(
    applyMiddleware(thunk)
);

const store = createStore(reducer，enhancer);
export store;

</code></pre></div><blockquote>
<p>创建<code>sagas.js</code>,并导入到<code>index.js</code>。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">`sagas.js`:
function* mySaga() {
  yield takeLatest(&#34;USER_FETCH_REQUESTED&#34;, fetchUser);
}

export default mySaga;

`index.js`:
import { createStore, applyMiddleware， `compose` } from &#39;redux&#39;；
import reducer from &#39;./stroe/reducer&#39;
import createSagaMiddleware from &#39;redux-saga&#39;
import todoSagas from &#39;./sagas&#39;

// create the saga middleware
const sagaMiddleware = createSagaMiddleware()
const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION__ <span style="color:#960050;background-color:#1e0010">&amp;&amp;</span> window.__REDUX_DEVTOOLS_EXTENSION();

const enhancer = composeEnhancers(
    applyMiddleware(thunk)
);

const store = createStore(reducer，enhancer);
sagaMiddleware.run(todoSagas)

export store;

</code></pre></div><h2 id="22-styled-components模块安装httpswwwstyled-componentscom">22. <a href="https://www.styled-components.com/" target="_blank" rel="noopener noreffer">Styled-Components模块安装</a></h2>
<blockquote>
<p>yarn add styled-components
Styled-Components使每个css样式独立，不做任何耦合。
修改style.css改为style.js:</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">injectGlobal`
  body {
    margin: 0;
    padding: 0;
    font-family: sans-serif;
  }
`;
`注意：` styled-components废弃injectGlobal这个API，更改为createGlobalStyle。


</code></pre></div><h2 id="23-resetcss使用httpsstyled-componentscom">23. <a href="https://styled-components.com/" target="_blank" rel="noopener noreffer">Reset.css使用</a></h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">/* http://meyerweb.com/eric/tools/css/reset/ 
   v2.0 | 20110126
   License: none (public domain)
*/

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
	display: block;
}
body {
	line-height: 1;
}
ol, ul {
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: &#39;&#39;;
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}

</code></pre></div><blockquote>
<p>将以上代码放在<code>Styled-Components</code>模块，style.js中的createGlobalStyle<code>内容</code>的内容中。</p>
</blockquote>
<blockquote>
<h4 id="24react使用iconfont嵌入头部图标-httpswwwiconfontcn">24.<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreffer">React使用iconfont嵌入头部图标 </a></h4>
<p>从<a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreffer">iconfont-阿里巴巴矢量图标库</a>下载图标文件。
将iconfont文件夹放到statics文件夹下面。
重命令iconfont.css为iconfont.js，修改内容并导入。
使用看说明文档 demo_index.html，<!-- raw HTML omitted -->标签引用标签。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">@font-face {
  font-family: &#39;iconfont&#39;;
  src: url(&#39;**./**iconfont.eot&#39;);
  src: url(&#39;**./**iconfont.eot?#iefix&#39;) format(&#39;embedded-opentype&#39;),
      url(&#39;**./**iconfont.woff2&#39;) format(&#39;woff2&#39;),
      url(&#39;**./**iconfont.woff&#39;) format(&#39;woff&#39;),
      url(&#39;**./**iconfont.ttf&#39;) format(&#39;truetype&#39;),
      url(&#39;**./**iconfont.svg#iconfont&#39;) format(&#39;svg&#39;);
}

.iconfont {
  font-family: &#34;iconfont&#34; !important;
  font-size: 16px;
  font-style: normal;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

其他类可以删除。

&lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;iconfont&#34;</span>&gt;&amp;#x33;&lt;/<span style="color:#f92672">span</span>&gt;


</code></pre></div><blockquote>
<h4 id="25搜索框动画效果实现">25.搜索框动画效果实现</h4>
<p>见项目源码。</p>
</blockquote>
<blockquote>
<h4 id="26使用immutablejs来管理store中的数据httpsgithubcomimmutable-jsimmutable-js">26.<a href="https://github.com/immutable-js/immutable-js" target="_blank" rel="noopener noreffer">使用Immutable.js来管理store中的数据</a></h4>
<p>安装Immutable.js，yarn add immutable
使用Immutable.js,首先导入immutable模块。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import { fromJS } from &#39;immutable&#39;;

</code></pre></div><blockquote>
<p>在将defaultState对象转化成fromJS对象：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">`reducer.js`修改后：
const defaultState = fromJS({
    focused: false,
});

`reducer.js`原代码：
// const defaultState = {
//   focused: false,
// };

`index.js`原代码：
const mapStateToProps = (state) =&gt; {
  return {
    // focused: state.header.focused,
    focused: state.focused,
  };
};

`index.js`修改后：
const mapStateToProps = (state) =&gt; {
  return {
    // focused: state.header.focused,
    focused: state.header.get(&#39;focused&#39;),
  };
};

`reducer.js`原代码：
export default (state = defaultState, action) =&gt; {
  if (action.type === &#34;search_focus&#34;) {
    return {
      focused: true,
    };
  }
  if (action.type === &#34;search_blur&#34;) {
    return {
      focused: false,
    };
  }
  return state;
};

`reducer.js`修改后：
export default (state = defaultState, action) =&gt; {
  if (action.type === &#34;search_focus&#34;) {
      // immutable对象的set方法，会接合之前的immutable对象的值和设置的值，返回一个全新的对象。
    return state.set(&#39;focused&#39;, true);
  }
  if (action.type === &#34;search_blur&#34;) {
    return state.set(&#39;focused&#39;, false);
  }
  return state;
};
</code></pre></div><blockquote>
<h4 id="27使用redux-immutable统一数据格式httpsimmutable-jsgithubioimmutable-js">27.<a href="https://immutable-js.github.io/immutable-js/" target="_blank" rel="noopener noreffer">使用redux-immutable统一数据格式</a></h4>
<p>安装和使用redux-immutable组件。
安装：<code>yarn add redux-immutable</code>
导入：<code>import { combineReducers } from &quot;redux-immutable&quot;;</code>
使用(将js对象转变为immutable对象)：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">`index.js`修改前：
const mapStateToProps = (state) =&gt; {
  return {
    // focused: state.header.focused,
    focused: state.header.get(&#39;focused&#39;),
  };
};
`index.js`修改后：
const mapStateToProps = (state) =&gt; {
  return {
    // focused: state.header.focused,
    focused: state.get(&#39;header&#39;).get(&#39;focused&#39;),
    等价于下面的写法，两种写法互换：
    focused: state.getIn([&#39;header&#39;, &#39;focused&#39;])


  };
};

</code></pre></div><blockquote>
<h4 id="27热门搜索样式布局">27.热门搜索样式布局</h4>
<p>见代码详情页面。</p>
</blockquote>
<blockquote>
<h4 id="28在react中使用路由功能">28.在React中使用路由功能</h4>
<p>安装第三方模块，<code>yarn add react-router-dom</code> <br>
导入第三方模块到index.js中,<code>import { BrowserRouter, Route } from &quot;react-router-dom&quot;;</code>。
使用第三方模块，加入如下代码到index.js中：</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">      &lt;<span style="color:#f92672">Provider</span> <span style="color:#a6e22e">store</span><span style="color:#f92672">=</span><span style="color:#e6db74">{store}</span>&gt;
        &lt;<span style="color:#f92672">div</span>&gt;
          &lt;<span style="color:#f92672">Header</span> /&gt;
          &lt;<span style="color:#f92672">BrowserRouter</span>&gt;
            &lt;<span style="color:#f92672">div</span>&gt;
              &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#a6e22e">exact</span> <span style="color:#a6e22e">render</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; &lt;<span style="color:#f92672">div</span>&gt;home&lt;/<span style="color:#f92672">div</span>&gt;}&gt;&lt;/<span style="color:#f92672">Route</span>&gt;
              &lt;<span style="color:#f92672">Route</span> <span style="color:#a6e22e">path</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/detail&#34;</span> <span style="color:#a6e22e">exact</span> <span style="color:#a6e22e">render</span><span style="color:#f92672">=</span><span style="color:#e6db74">{()</span> <span style="color:#960050;background-color:#1e0010">=</span>&gt; &lt;<span style="color:#f92672">div</span>&gt;detail&lt;/<span style="color:#f92672">div</span>&gt;}&gt;&lt;/<span style="color:#f92672">Route</span>&gt;
            &lt;/<span style="color:#f92672">div</span>&gt;
          &lt;/<span style="color:#f92672">BrowserRouter</span>&gt;
        &lt;/<span style="color:#f92672">div</span>&gt;
      &lt;/<span style="color:#f92672">Provider</span>&gt;
请对照前面的index.js文件。

</code></pre></div><blockquote>
<p>在SRC文件夹下面创建对应的pages文件夹，包括home,detail等文件夹。</p>
</blockquote>
<blockquote>
<h4 id="29在react中使用页面跳转">29.在React中使用页面跳转</h4>
<p>导入Link模块，<code>import { Link } from &quot;react-router-dom&quot;;</code>
Link替代a标签，不会加载html页面，直接跳转。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;<span style="color:#f92672">Link</span> <span style="color:#a6e22e">key</span><span style="color:#f92672">=</span><span style="color:#e6db74">{index}</span> <span style="color:#a6e22e">to</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/detail&#39;</span>&gt;
    content 
&lt;/<span style="color:#f92672">Link</span>&gt;

</code></pre></div><blockquote>
<h4 id="30异步组件及withrouter路由方法的使用">30.异步组件及withRouter路由方法的使用</h4>
<p>每个页面分开处理各自的数据请求。
安装第三方模块<a href="https://github.com/jamiebuilds/react-loadable" target="_blank" rel="noopener noreffer">react-loadable</a>，<code>yarn add react-loadable</code>。</p>
</blockquote>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">import Loadable from &#39;react-loadable&#39;;
import Loading from &#39;./my-loading-component&#39;;

const LoadableComponent = Loadable({
  loader: () =&gt; import(&#39;./my-component&#39;),
    注释：    
    my-loading-component为当前目录下的index.js组件。

  loading: Loading,
    注释：    
    loading() {
        return &lt;<span style="color:#f92672">div</span>&gt;正在加载&lt;/<span style="color:#f92672">div</span>&gt;
    }

});

export default class App extends React.Component {
  render() {
    return &lt;<span style="color:#f92672">LoadableComponent</span>/&gt;;
  }
}
    注释：    
    export default () =&gt; &lt;<span style="color:#f92672">LoadableComponent</span>/&gt;

</code></pre></div><blockquote>
<h4 id="31react项目上线流程">31.React项目上线流程</h4>
<p>安装XAMPP软件管理项目，开启apache web server(start), 浏览器打开localhost:80,服务器在本机的位置/XAMPP/htdocs/, /XAMPP/htdocs/api下面可以创建各种PHP文件，通过PHP文件和后端通信，从数据库获取内容（得到json文件）。  <br>
删除前端项目中的API模拟数据目录，同时在项目当前目录下的终端中输入：npm run build，当前目录下生成了一个build文件夹，下面的文件即为后端需要的前端上线代码文件。  <br>
将build文件夹下面的全部文件复制到/XAMPP/htdocs/文件夹下面，通过localhost:80访问，完成前端代码上线。</p>
</blockquote>
<div class="post-reward">
  <input type="checkbox" name="reward" id="reward" hidden />
  <label class="reward-button" for="reward">Sponsor</label>
  <div class="qr-code">
    <label class="qr-code-image" for="reward">
        <img class="image" src="https://cdn.jsdelivr.net/gh/laokong4628/laokong4628.github.io@master/images/wechat.png">
        
        <span>Wechat Sponsor</span>
      </label>
    <label class="qr-code-image" for="reward">
        <img class="image" src="https://cdn.jsdelivr.net/gh/laokong4628/laokong4628.github.io@master/images/alipay.png">
        
        <span>Alipay Sponsor</span>
      </label>
  </div>
</div>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-01-29</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/posts/react.html/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://laokong4628.github.io/posts/react.html/" data-title="react" data-hashtags="react"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://laokong4628.github.io/posts/react.html/" data-hashtag="react"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://laokong4628.github.io/posts/react.html/" data-title="react"><i class="fab fa-hacker-news fa-fw"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://laokong4628.github.io/posts/react.html/" data-title="react"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/react/">react</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/rsync.html/" class="prev" rel="prev" title="rsync"><i class="fas fa-angle-left fa-fw"></i>rsync</a>
            <a href="/posts/python.html/" class="next" rel="next" title="python">python<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
<div id="comments"><div id="utterances"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://utteranc.es/">Utterances</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container">
            
                
                    
                    
                    
                
            

            <div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="https://github.com/laokong4628" target="_blank">Lao Kong</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer>
        </div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div>

        <div class="sidebar_wo">
            <div id="leimu">
	            <img src="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuA.png" alt="雷姆" 
	onmouseover="this.src='https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuB.png'" 
	onmouseout="this.src='https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/leimuA.png'" title="回到顶部">
            </div>
            <div class="sidebar_wo" id="lamu">
	            <img src="https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuA.png" alt="雷姆" 
	onmouseover="this.src='https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuB.png'" 
	onmouseout="this.src='https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/b2t/lamuA.png'" title="回到底部">
            </div>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css"><script type="text/javascript" src="https://polyfill.io/v3/polyfill.min.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2CElement.prototype.closest%2CrequestAnimationFrame%2CCustomEvent%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/object-fit-images@3.2.4/dist/ofi.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/twemoji@13.0.0/dist/twemoji.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"laokong4628/hugo-comments"}},"data":{"id-1":"Lao Kong's notepad","id-2":"Lao Kong's notepad"},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@2.1.3/dist/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery-backstretch@2.1.18/jquery.backstretch.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/styles/default.min.css">
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/highlight.min.js"></script>

<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.5.0/build/languages/go.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
    var e = document.querySelectorAll("pre code");
    var i;
    for (i = 0; i < e.length; i++) {
     e[i].innerHTML = "<ul><li>" + e[i].innerHTML.replace(/\n/g, "\n</li><li>") + "\n</li></ul>";
     $("code ul li").last().remove();
    }
</script>


    
    
        
        
            
                
            
            
        
    
    


    <script>
    WIDGET = {
    CONFIG: {
        "layout": 1,
        "width": 1050,
        "height": 400,
        "background": 1,
        "dataColor": "FFFFFF",
        "borderRadius": 5,
        "key": "c2611749c8ec4aabb2b7b35654976dd8"
    }
    }
    </script>
    
<script src="https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0"></script><script type="text/javascript" src="/js/custom.js"></script>
<script type="text/javascript" src="/js/highlight.pack.js"></script>


<script> $(function () {
			$(".site-avatar-plug-bilibili").attr("src", "https:\/\/cdn.jsdelivr.net\/gh\/laokong4628\/laokong4628.github.io@master/images/avatar-plug/bilibili_" + (~~( 128 *Math.random())+1) + ".png");
		}); 
	var avatar_plug = 0;
	var avatar_click = 1;
	jQuery(document).ready(function($) {
		 
		var frequency =  1 ;
		 
		var plug_count =  128 ;
		$("div.home-avatar a").click(function(e) {
			if (avatar_click % frequency === 0) {
				avatar_plug ++;
				$(".site-avatar-plug-bilibili").attr("src", "https:\/\/cdn.jsdelivr.net\/gh\/laokong4628\/laokong4628.github.io@master/images/avatar-plug/bilibili_" + avatar_plug + ".png");
			}		
			if (avatar_plug === plug_count) {
				avatar_plug = 0;
			}
			$("div.home-avatar a").attr("alt","再点击" + (frequency - avatar_click % frequency) + "次头像试试看~~");
			avatar_click ++;
		});
	});</script></body>
</html>
